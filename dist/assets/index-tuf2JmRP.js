(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();let a=0;const v=document.querySelectorAll(".slide"),y=document.querySelectorAll(".dot");function f(t){v.forEach((e,o)=>{e.classList.toggle("active",o===t),y[o].classList.toggle("active",o===t)}),a=t}function k(){a=(a+1)%v.length,f(a)}function C(){setInterval(k,5e3),y.forEach((t,e)=>{t.addEventListener("click",()=>f(e))}),f(a)}const E="YOUR_GOOGLE_BOOKS_API_KEY",S="https://www.googleapis.com/books/v1/volumes";async function $(t,e=0,o=6){const n=`${S}?q=subject:${encodeURIComponent(t)}&startIndex=${e}&maxResults=${o}&key=${E}`;return(await(await fetch(n)).json()).items||[]}let c=JSON.parse(localStorage.getItem("cart"))||[];function I(t,e){const o=c.findIndex(n=>n.title===t.title);o>=0?(c.splice(o,1),e.classList.remove("in-cart"),e.textContent="Buy now"):(c.push(t),e.classList.add("in-cart"),e.textContent="In the cart"),localStorage.setItem("cart",JSON.stringify(c)),h()}function h(){const t=document.querySelector(".cart-btn");let e=t.querySelector(".cart-badge");e||(e=document.createElement("span"),e.className="cart-badge",t.appendChild(e)),e.textContent=c.length,e.style.display=c.length>0?"block":"none"}const w="images/placeholder.png";function O(t,e){return t.length>e?t.slice(0,e)+"...":t}function x(t,e){t.forEach(o=>{const n=o.volumeInfo,r=o.saleInfo,s=n.imageLinks?.thumbnail||w,i=n.authors?n.authors.join(", "):"Unknown Author",b=n.averageRating?`<div class="book-rating">
           ${"★".repeat(Math.round(n.averageRating))}
           ${"☆".repeat(5-Math.round(n.averageRating))}
           <span class="reviews">(${n.ratingsCount||0} reviews)</span>
         </div>`:"",L=r?.retailPrice?`<div class="book-price">${r.retailPrice.amount} ${r.retailPrice.currencyCode}</div>`:"",l=document.createElement("div");l.className="book-card",l.innerHTML=`
      <div class="book-cover-wrapper">
        <img src="${s}" alt="${n.title}" class="book-cover">
      </div>
      <div class="book-info">
        <div class="book-author">${i}</div>
        <div class="book-title">${n.title}</div>
        ${b}
        <div class="book-desc">${O(n.description||"",250)}</div>
        ${L}
        <button class="buy-btn">Buy now</button>
      </div>
    `;const m=l.querySelector(".buy-btn");m.addEventListener("click",()=>I(n,m)),e.appendChild(l)}),h()}let d="Architecture",g=0;const p=6;function q(){const t=document.querySelectorAll("#category-list li"),e=document.getElementById("book-list");t.forEach(n=>{n.addEventListener("click",()=>{document.querySelector("#category-list li.active")?.classList.remove("active"),n.classList.add("active"),d=n.textContent,g=0,e.innerHTML="",u(d,e)})});const o=document.createElement("button");o.id="load-more",o.textContent="Load more",o.style.display="block",o.style.margin="20px auto",document.querySelector(".content").appendChild(o),o.addEventListener("click",()=>u(d,e)),u(d,e)}async function u(t,e){const o=await $(t,g,p);x(o,e),g+=p}document.addEventListener("DOMContentLoaded",()=>{C(),q()});
